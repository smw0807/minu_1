# 13-2 발행/구독 패턴

**발행/구독**(pub/sub으로 축약됨)은 아마도 가장 잘 알려진 단방향 메시징 패턴일 것이다.  
분산된 관찰자(Observer) 패턴이므로, 이미 익숙할 수도 있다.  
관찰자의 경우와 마찬가지로 특정 범주의 메시지 수신에 대한 관찰을 등록하는 일련의 구독자들이 있다.

반면, 게시자는 모든 관련 구독자에게 배포되는 메시지를 생성한다.

![발행/구독 메시지 패턴 / (왼: 피어 투 피어 발생/구독) (오: 중개자를 사용한 발생/구독)](https://prod-files-secure.s3.us-west-2.amazonaws.com/bc261f43-de91-483d-8946-ac5a65106576/566405d2-4567-422d-b4ac-91bd84e14096/Untitled.png)

발행/구독 메시지 패턴 / (왼: 피어 투 피어 발생/구독) (오: 중개자를 사용한 발생/구독)

Pub/Sub를 특별하게 만드는 것은 게시자는 메시지 수신자가 누구인지 미리 알지 못한다는 것이다.  
특정 메시지를 수신하기 위해 관찰자를 등록해야 하는 것은 구독자이며, 게시자가 지정되지 않은 수의 수신자들과 작업할 수 있도록 한다.  
즉, Pub/Sub 패턴의 양면이 느슨하게 결합되어있어 진화하는 분산 시스템의 노드를 통합하는데 이상적인 패턴이다.

브로커가 있으면 가입자가 브로커와만 상호작용하고 어떤 노드가 메시지 게시자인지 알지 못하기 때문에 시스템 노드 간의 분리가 더욱 향상된다.  
브로커(중개자)는 메시지 대기열 시스템을 제공하여 노드 간 연결 문제가 있는 경우에도 안정적인 메시지의 전달을 보장할 수 있다.
