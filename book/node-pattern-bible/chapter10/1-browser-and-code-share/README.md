# 10-1 브라우저와 코드 공유

Node.js의 주요 관심 포인트 중 하나는 실제로 일부 브라우저(Google Chrome, Microsoft Edge)에서 구동하는 JavaScript 엔진인 V8이다.  
동일한 JavaScript 엔진을 공유하는 것만으로도 Node.js와 브라우저 간에 코드를 쉽게 공유할 수 있다고 생각할 수 있다.  
그러나 이 단순하고 독립적이면서 일반적인 일부의 코드만을 공유하려는 경우가 아닌 한, 항상 가능한 일은 아니다.

클라이언트와 서버 모두에 대한 코드를 개발하려면 동일한 코드가 본질적으로 다른 두 환경에서 제대로 실행될 수 있도록 하는데 무시할 수 없는 수준의 노력이 필요하다.  
Node.js에서는 DOM이나 수명이 긴 뷰(View)가 없지만, 브라우저에서는 기본적으로 운영체제와 상호작용할 파일 시스템 및 기타 인터페이스가 존재하지 않는다.

최신 JavaScript 기능에 대한 지원 수준에도 서로 다른 점이 있다.  
Node.js를 대상으로 한다면 서버에서 실행되는 Node.js의 버전을 알고있기 때문에 최신 언어 기능을 안전하게 채택할 수 있다.  
하지만 브라우저용 JavaScript 코드를 작성할 때는 동일한 확신을 가질 수 없다.  
이는 사용자마다 브라우저가 달라 최신 언어 기능과의 호환성 수준이 다르기 때문이다.  
일부 사용자는 async/await을 지원하는 최신 브라우저를 사용할 수도 있고, 지원하지 않는 구 버전의 브라우저를 사용할 수 도 있기 때문이다.

애플리케이션이 브라우저 호환 코드와 Node.js 코드간에 전환을 동적으로 또는 빌드 시에 할 수 있도록 하는 추상화, 패턴 및 도구들의 도움을 받아 수행할 수 있다.  
이 새로운 가능성에 대한 관심이 높아지면서 생태계의 많은 라이브러리와 프레임워크가 두 환경을 모두 지원하기 시작했다.  
Node.js에서 npm 패키지를 사용하는 경우 브라우저에서도 원활하게 작동할 가능성이 높다.  
그러나 이것이 브라우저와 Node.js 모두에서 문제없이 애플리케이션을 실행할 수 있다는 것을 보장하기에는 충분하지 않은 경우가 많다.  
그래서 크로스 플랫폼 코드를 개발할 때는 항상 신중한 디자인이 필요하다.

## 10-1-1 크로스 플랫폼 컨텍스트의 JavaScript 모듈
